<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>SWE 307 - Proje 2</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        table { width: 100%; border-collapse: collapse; }
        th, td { border: 1px solid #ddd; padding: 8px; text-align: left; }
        th { background-color: #f2f2f2; }
        .upload-form { margin-bottom: 20px; border: 1px solid #ccc; padding: 10px; }
        .message { color: green; }
        .errorMessage { color: red; }
    </style>
</head>
<body>

<h1>SWE 307 - Big Data Proje 2 (Redis Cache & HDFS)</h1>

<div class="upload-form">
    <h3>HDFS'e Resim Yükle</h3>
    <form method="POST" action="/upload" enctype="multipart/form-data">
        <input type="file" name="file" />
        <button type="submit">Yükle</button>
    </form>

    <p th:if="${message}" class="message" th:text="${message}"></p>
    <p th:if="${errorMessage}" class="errorMessage" th:text="${errorMessage}"></p>
</div>


<h2>Çalışan Listesi (Scott Veritabanı)</h2>

<table>
    <thead>
    <tr>
        <th>Çalışan Adı (ENAME)</th>
        <th>Yönetici Adı (MGR)</th>
        <th>Maaş (SAL)</th>
        <th>Komisyon (COMM)</th>
        <th>Departman (DNAME)</th>
        <th>İş (JOB)</th>
    </tr>
    </thead>
    <tbody>
    <tr th:each="emp : ${employees}">

        <td th:text="${emp.eName}">King</td>

        <td th:text="${emp.manager != null ? emp.manager.eName : 'Yok'}">N/A</td>

        <td th:text="${emp.sal}">5000</td>

        <td th:text="${emp.comm != null ? emp.comm : '0'}">0</td>

        <td th:text="${emp.department.dName}">ACCOUNTING</td>

        <td th:text="${emp.job}">PRESIDENT</td>
    </tr>
    </tbody>
</table>

</body>
</html>